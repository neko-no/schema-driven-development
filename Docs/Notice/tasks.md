# タスクリスト - お知らせ管理アプリケーション

## 概要

- 総タスク数: 16
- 推定作業時間: 5-7日
- 優先度: 高

## タスク一覧

### Phase 1: 準備・調査

#### Task 1.1: プロジェクト構造とTypeSpec定義の準備

- [ ] TypeSpecスキーマの定義（お知らせエンティティ）
- [ ] API仕様の定義とOrvalによるコード生成設定
- [ ] プロジェクト構造の確認と必要フォルダの作成
- **完了条件**: TypeSpec定義とAPI型定義が生成されること
- **依存**: なし
- **推定時間**: 1-2時間
- **関連要件**: requirements.md 全般

#### Task 1.2: 開発環境とツール設定

- [ ] PandaCSSの設定とスタイルシステム構築
- [ ] Jotaiの設定と状態管理の準備
- [ ] TanStack Queryの設定とAPIクライアント準備
- [ ] Zodスキーマの設定
- **完了条件**: 開発環境が整備され、ビルドが正常に完了すること
- **依存**: Task 1.1
- **推定時間**: 2-3時間
- **関連要件**: requirements.md 全般

### Phase 2: 実装

#### Task 2.1: 基盤コンポーネントの実装

- [ ] Buttonコンポーネント（variant: primary, secondary, danger対応）
- [ ] Modalコンポーネント（サイズ調整、ESC対応）
- [ ] LoadingSpinnerコンポーネント
- [ ] FormFieldコンポーネント（エラー表示対応）
- **完了条件**: 基盤コンポーネントが動作し、Storybookで確認できること
- **依存**: Task 1.2
- **推定時間**: 3-4時間
- **関連要件**: requirements.md 全般（UI要素として使用）

#### Task 2.2: お知らせ一覧表示機能の実装

- [ ] NoticeListコンポーネントの実装
- [ ] NoticeCardコンポーネントの実装
- [ ] useNoticeフックの実装（一覧取得部分）
- [ ] 一覧画面のページレイアウト
- **完了条件**: お知らせ一覧が表示され、詳細画面に遷移できること
- **依存**: Task 2.1
- **推定時間**: 4-5時間
- **関連要件**: requirements.md 要件1（お知らせ一覧表示機能）

#### Task 2.3: お知らせ詳細表示機能の実装

- [ ] NoticeDetailコンポーネントの実装
- [ ] useNoticeフック拡張（詳細取得部分）
- [ ] 詳細画面のルーティング設定
- [ ] 一覧画面への戻る機能
- **完了条件**: 詳細情報が全て表示され、編集・削除ボタンから遷移できること
- **依存**: Task 2.2
- **推定時間**: 2-3時間
- **関連要件**: requirements.md 要件2（お知らせ詳細表示機能）

#### Task 2.4: お知らせ新規作成機能の実装

- [ ] NoticeFormコンポーネントの実装（新規作成モード）
- [ ] useNoticeFormフックの実装
- [ ] フォームバリデーション（Zod使用）
- [ ] useNoticeフック拡張（作成API部分）
- **完了条件**: バリデーションが働き、正常に作成できること
- **依存**: Task 2.1
- **推定時間**: 4-5時間
- **関連要件**: requirements.md 要件3（お知らせ新規作成機能）

#### Task 2.5: お知らせ編集機能の実装

- [ ] NoticeFormコンポーネント拡張（編集モード対応）
- [ ] 既存データの事前入力機能
- [ ] useNoticeフック拡張（更新API部分）
- [ ] 編集画面のルーティング設定
- **完了条件**: 既存データが事前入力され、更新が正常に動作すること
- **依存**: Task 2.4
- **推定時間**: 3-4時間
- **関連要件**: requirements.md 要件4（お知らせ編集機能）

#### Task 2.6: お知らせ削除機能の実装

- [ ] useConfirmDialogフックの実装
- [ ] 削除確認モーダルの実装
- [ ] useNoticeフック拡張（削除API部分）
- [ ] 削除後の一覧画面リダイレクト
- **完了条件**: 確認ダイアログが表示され、削除後に一覧に戻ること
- **依存**: Task 2.3
- **推定時間**: 2-3時間
- **関連要件**: requirements.md 要件5（お知らせ削除機能）

### Phase 3: 検証・テスト

#### Task 3.1: 単体テストの作成

- [ ] useNoticeフックのテスト
- [ ] useNoticeFormフックのテスト
- [ ] バリデーション機能のテスト
- [ ] 基盤コンポーネントのテスト
- **完了条件**: すべてのテストが成功すること
- **依存**: Phase 2完了
- **推定時間**: 4-5時間
- **関連要件**: requirements.md 全般

#### Task 3.2: 統合テストの作成

- [ ] CRUD操作の統合テスト
- [ ] フォーム送信フローのテスト
- [ ] エラーハンドリングのテスト
- [ ] ルーティングのテスト
- **完了条件**: すべての統合テストが成功すること
- **依存**: Task 3.1
- **推定時間**: 3-4時間
- **関連要件**: requirements.md 全般

#### Task 3.3: 受け入れ基準の検証

- [ ] 要件1の受け入れ基準を満たすことを確認
- [ ] 要件2の受け入れ基準を満たすことを確認
- [ ] 要件3の受け入れ基準を満たすことを確認
- [ ] 要件4の受け入れ基準を満たすことを確認
- [ ] 要件5の受け入れ基準を満たすことを確認
- **完了条件**: すべての受け入れ基準を満たすこと
- **依存**: Phase 2完了
- **推定時間**: 2-3時間
- **関連要件**: requirements.md 全要件

### Phase 4: 仕上げ

#### Task 4.1: エラーハンドリングとUX改善

- [ ] Error Boundaryの実装
- [ ] ローディング状態の改善
- [ ] 楽観的更新の実装
- [ ] エラーメッセージの改善
- **完了条件**: エラーが適切に処理され、UXが向上すること
- **依存**: Phase 2完了
- **推定時間**: 3-4時間
- **関連要件**: requirements.md 全般

#### Task 4.2: アクセシビリティ対応

- [ ] キーボードナビゲーションの実装
- [ ] aria属性の適切な設定
- [ ] スクリーンリーダー対応
- [ ] カラーコントラスト比の確認
- **完了条件**: アクセシビリティ基準を満たすこと
- **依存**: Phase 2完了
- **推定時間**: 2-3時間
- **関連要件**: requirements.md 全般

#### Task 4.3: パフォーマンス最適化

- [ ] コンポーネントのメモ化
- [ ] 不要な再レンダリングの削除
- [ ] バンドルサイズの最適化
- [ ] 画像とアセットの最適化
- **完了条件**: パフォーマンス指標が基準値を満たすこと
- **依存**: Phase 2完了
- **推定時間**: 2-3時間
- **関連要件**: requirements.md 全般

#### Task 4.4: 最終チェックとドキュメント更新

- [ ] 全機能の最終動作確認
- [ ] APIドキュメントの更新
- [ ] README.mdの更新
- [ ] デプロイ準備
- **完了条件**: 本番環境にデプロイ可能な状態になること
- **依存**: 全タスク完了
- **推定時間**: 1-2時間
- **関連要件**: requirements.md 全般

## 実装順序

1. Phase 1から順次実行
2. Phase 2では Task 2.1 → Task 2.2 → Task 2.3 の順で実行
3. Task 2.4（作成）、Task 2.5（編集）、Task 2.6（削除）は並行実行可能
4. Phase 3と4は Phase 2完了後に並行実行可能

## リスクと対策

- **TypeSpec定義の複雑さ**: シンプルなスキーマから開始し、段階的に拡張
- **PandaCSSの学習コスト**: 基本パターンから始め、必要に応じて拡張
- **状態管理の複雑化**: 小さい単位で状態を分割し、適切にatomを設計

## 注意事項

- 各タスクはコミット単位で完結させる
- タスク完了時は必ずテストを実行
- TypeScript型エラーは即座に解決する
- バリデーションエラーは適切にユーザーに伝える

## 実装開始ガイド

1. このタスクリストに従って順次実装を進めてください
2. 各タスクの開始時にTodoWriteでin_progressに更新
3. 完了時はcompletedに更新
4. 問題発生時は速やかに報告してください
5. 最初は Task 1.1（TypeSpec定義）から開始することを推奨